---
phase: 04-portfolio-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [index.html]
autonomous: false

must_haves:
  truths:
    - "All 10 migrated project links point to GitHub Pages URLs"
    - "Drift links point to version-specific subdirectories (v2-v7)"
    - "Interactive art links point to generative-web-art gallery pieces"
    - "benji-site link remains relative (stays in main repo)"
    - "All updated links are clickable and load correct projects"
  artifacts:
    - path: "index.html"
      provides: "Portfolio landing page with updated project links"
      contains: "pebaum.github.io"
      min_lines: 379
  key_links:
    - from: "index.html"
      to: "https://pebaum.github.io/4-track-tape-looper/"
      via: "href attribute"
      pattern: 'href="https://pebaum\.github\.io/4-track-tape-looper/"'
    - from: "index.html"
      to: "https://pebaum.github.io/drift/v7/"
      via: "href attribute"
      pattern: 'href="https://pebaum\.github\.io/drift/v[2-7]/"'
    - from: "index.html"
      to: "projects/benji-site/index.html"
      via: "relative href (preserved)"
      pattern: 'href="projects/benji-site/index\.html"'
---

<objective>
Update portfolio index.html to point all migrated project links to their new GitHub Pages URLs while preserving benji-site in the main repository.

Purpose: Complete the migration by connecting the portfolio hub to the distributed project repositories, making all projects accessible from the main portfolio page.

Output: Updated index.html with 21 project links pointing to correct destinations (10 migrated projects to GitHub Pages URLs, 1 preserved local link).
</objective>

<execution_context>
@c:\Users\paulo\.claude\get-shit-done\workflows\execute-plan.md
@c:\Users\paulo\.claude\get-shit-done\templates\summary.md
</execution_context>

<context>
@c:\pebaum.github.io\.planning\PROJECT.md
@c:\pebaum.github.io\.planning\ROADMAP.md
@c:\pebaum.github.io\.planning\STATE.md
@c:\pebaum.github.io\.planning\REQUIREMENTS.md
@c:\pebaum.github.io\.planning\phases\04-portfolio-integration\04-RESEARCH.md
@c:\pebaum.github.io\.planning\phases\02-content-migration\02-01-SUMMARY.md
@c:\pebaum.github.io\.planning\phases\02-content-migration\02-02-SUMMARY.md
@c:\pebaum.github.io\.planning\phases\02-content-migration\02-03-SUMMARY.md
@c:\pebaum.github.io\.planning\phases\02-content-migration\02-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Update project links to GitHub Pages URLs</name>
  <files>index.html</files>
  <action>
Use sed to replace all migrated project links in index.html with GitHub Pages URLs. Process links in this exact order to avoid partial replacements:

**Repository name mappings (source → repository):**
- 4-track → 4-track-tape-looper
- ps4-synth → dualshock-synth
- the-duel → the-duel-boardgame
- forward-playground → forward-boardgame
- Drift vN (with spaces) → drift/vN (no spaces)
- interactive-art → generative-web-art

**sed commands (use | delimiter to avoid escaping /):**

```bash
# Simple projects (exact repository names)
sed -i 's|href="projects/4-track/index.html"|href="https://pebaum.github.io/4-track-tape-looper/"|g' index.html
sed -i 's|href="projects/granular-ambient/index.html"|href="https://pebaum.github.io/granular-ambient/"|g' index.html
sed -i 's|href="projects/textscape/index.html"|href="https://pebaum.github.io/textscape/"|g' index.html
sed -i 's|href="projects/dnd-dm-screen/index.html"|href="https://pebaum.github.io/dnd-dm-screen/"|g' index.html

# Renamed projects (source name different from repository name)
sed -i 's|href="projects/ps4-synth/index.html"|href="https://pebaum.github.io/dualshock-synth/"|g' index.html
sed -i 's|href="projects/the-duel/index.html"|href="https://pebaum.github.io/the-duel-boardgame/"|g' index.html
sed -i 's|href="projects/forward-playground/play.html"|href="https://pebaum.github.io/forward-boardgame/play.html"|g' index.html

# Drift versions (remove spaces, point to versioned subdirectories)
sed -i 's|href="projects/drift/Drift v7/index.html"|href="https://pebaum.github.io/drift/v7/"|g' index.html
sed -i 's|href="projects/drift/Drift v6/index.html"|href="https://pebaum.github.io/drift/v6/"|g' index.html
sed -i 's|href="projects/drift/Drift v5/index.html"|href="https://pebaum.github.io/drift/v5/"|g' index.html
sed -i 's|href="projects/drift/Drift v4/index.html"|href="https://pebaum.github.io/drift/v4/"|g' index.html
sed -i 's|href="projects/drift/Drift v3/index.html"|href="https://pebaum.github.io/drift/v3/"|g' index.html
sed -i 's|href="projects/drift/Drift v2/index.html"|href="https://pebaum.github.io/drift/v2/"|g' index.html

# Interactive art pieces (7 pieces to generative-web-art gallery)
sed -i 's|href="projects/interactive-art/dungeongame.html"|href="https://pebaum.github.io/generative-web-art/dungeongame.html"|g' index.html
sed -i 's|href="projects/interactive-art/mazesend.html"|href="https://pebaum.github.io/generative-web-art/mazesend.html"|g' index.html
sed -i 's|href="projects/interactive-art/waterlillies.html"|href="https://pebaum.github.io/generative-web-art/waterlillies.html"|g' index.html
sed -i 's|href="projects/interactive-art/viewofaburningcity.html"|href="https://pebaum.github.io/generative-web-art/viewofaburningcity.html"|g' index.html
sed -i 's|href="projects/interactive-art/wordprocessor.html"|href="https://pebaum.github.io/generative-web-art/wordprocessor.html"|g' index.html
sed -i 's|href="projects/interactive-art/colorexplore.html"|href="https://pebaum.github.io/generative-web-art/colorexplore.html"|g' index.html
sed -i 's|href="projects/interactive-art/blocksnow.html"|href="https://pebaum.github.io/generative-web-art/blocksnow.html"|g' index.html
```

**DO NOT change:** benji-site link must remain `href="projects/benji-site/index.html"` (preserved in main repo per PORT-02 requirement)

**Why this order:** Process specific patterns before generic ones to avoid partial replacements. Use exact string matching for each link.

After all replacements, verify changes:
```bash
# Show what changed
git diff index.html

# Count updated links (should show 20 GitHub Pages URLs)
grep -c "pebaum.github.io" index.html

# Verify benji-site link unchanged (should show 1 match)
grep -c 'href="projects/benji-site/index.html"' index.html
```
  </action>
  <verify>
Run: `git diff index.html` to see all changes
Run: `grep -c "pebaum.github.io" index.html` to count updated links (expect 20)
Run: `grep 'href="projects/benji-site/index.html"' index.html` to confirm benji-site preserved
Run: `test -d archive && echo "archive folder exists" || echo "ERROR: archive folder missing"` to verify archive folder preserved (PORT-03)
  </verify>
  <done>
- 20 project links updated to GitHub Pages URLs
- 1 benji-site link remains relative
- git diff shows only href attribute changes, no other modifications
- All sed replacements completed successfully
- archive folder verified to exist and remain untouched
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Updated all portfolio project links to point to GitHub Pages URLs for migrated projects while preserving benji-site as local link.

Changes:
- 4 simple projects (4-track, granular-ambient, textscape, dnd-dm-screen) → GitHub Pages
- 3 renamed projects (ps4-synth→dualshock-synth, the-duel→the-duel-boardgame, forward-playground→forward-boardgame) → GitHub Pages
- 6 Drift versions (v2-v7) → drift repository versioned subdirectories
- 7 interactive art pieces → generative-web-art gallery
- benji-site → remains in main repository (projects/benji-site/index.html)
  </what-built>
  <how-to-verify>
1. Open portfolio in browser: `start index.html` (Windows) or `open index.html` (Mac)

2. IMPORTANT: Hard refresh to bypass cache
   - Windows: Press Ctrl + F5
   - Mac: Press Cmd + Shift + R
   - Alternative: Open in incognito/private window

3. Test each project category (click every link):

   **Simple projects:**
   - [ ] 4-Track Tape Recorder → https://pebaum.github.io/4-track-tape-looper/
   - [ ] Granular Ambient → https://pebaum.github.io/granular-ambient/
   - [ ] Textscape → https://pebaum.github.io/textscape/
   - [ ] D&D 5e DM Screen → https://pebaum.github.io/dnd-dm-screen/

   **Renamed projects:**
   - [ ] PS4 Synth → https://pebaum.github.io/dualshock-synth/
   - [ ] The Duel → https://pebaum.github.io/the-duel-boardgame/
   - [ ] Forward Playground → https://pebaum.github.io/forward-boardgame/play.html

   **Drift versions:**
   - [ ] Drift v7 → https://pebaum.github.io/drift/v7/
   - [ ] Drift v6 → https://pebaum.github.io/drift/v6/
   - [ ] Drift v5 → https://pebaum.github.io/drift/v5/
   - [ ] Drift v4 → https://pebaum.github.io/drift/v4/
   - [ ] Drift v3 → https://pebaum.github.io/drift/v3/
   - [ ] Drift v2 → https://pebaum.github.io/drift/v2/

   **Interactive art (generative-web-art gallery):**
   - [ ] Dungeon Game → https://pebaum.github.io/generative-web-art/dungeongame.html
   - [ ] Maze Send → https://pebaum.github.io/generative-web-art/mazesend.html
   - [ ] Water Lillies → https://pebaum.github.io/generative-web-art/waterlillies.html
   - [ ] View of a Burning City → https://pebaum.github.io/generative-web-art/viewofaburningcity.html
   - [ ] Word Processor → https://pebaum.github.io/generative-web-art/wordprocessor.html
   - [ ] Color Explore → https://pebaum.github.io/generative-web-art/colorexplore.html
   - [ ] Block Snow → https://pebaum.github.io/generative-web-art/blocksnow.html

   **Preserved local project:**
   - [ ] Benji Site → projects/benji-site/index.html (loads from main repo)

4. Verify archive folder preservation (PORT-03):
   - [ ] Run: `ls -la archive` to confirm folder exists and is accessible
   - [ ] Confirm archive folder contains expected historical content

5. Expected outcomes:
   - All 20 GitHub Pages links open their projects successfully
   - Each project loads its interface (not 404 error)
   - benji-site loads from local projects/ folder
   - archive folder exists and remains untouched
   - URLs in browser address bar match expected destinations

6. If any links show 404 or wrong content:
   - Wait 20 minutes (GitHub Pages CDN propagation time)
   - Hard refresh again (Ctrl+F5 / Cmd+Shift+R)
   - Test in incognito window to rule out cache issues
  </how-to-verify>
  <resume-signal>
Type "approved" if all links work correctly, or describe any broken/incorrect links (specify which project and what error/behavior you see).
  </resume-signal>
</task>

<task type="auto">
  <name>Commit portfolio integration</name>
  <files>index.html</files>
  <action>
Stage and commit the updated index.html with portfolio integration complete:

```bash
git add index.html
git commit -m "$(cat <<'EOF'
feat(04-01): update portfolio links to GitHub Pages URLs

- Update 10 migrated projects to https://pebaum.github.io/[repo]/ URLs
- Preserve benji-site relative link (remains in main repo)
- Map Drift versions to /drift/v[2-7]/ subdirectories
- Map interactive art pieces to /generative-web-art/ gallery
- Account for renamed repos (ps4-synth→dualshock-synth, the-duel→the-duel-boardgame, forward-playground→forward-boardgame)

All 21 links manually tested and verified working. GitHub Pages deployments
confirmed accessible. Portfolio hub now connects to distributed architecture.

Satisfies PORT-01, PORT-02, PORT-04.

Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
EOF
)"
```

After commit, verify:
```bash
git log -1 --oneline
git show --stat HEAD
```
  </action>
  <verify>
Run: `git log -1 --pretty=format:"%h %s"` to see commit message
Run: `git show --stat HEAD` to see changed files
  </verify>
  <done>
- index.html changes committed with descriptive message
- Commit references requirements PORT-01, PORT-02, PORT-04
- Git history shows feat(04-01) commit
  </done>
</task>

</tasks>

<verification>
After all tasks complete, verify Phase 4 success criteria:

1. **All migrated project links updated (PORT-01):**
   - grep shows 20 GitHub Pages URLs in index.html
   - Each link points to correct repository and path
   - Renamed projects mapped correctly (ps4-synth→dualshock-synth, etc.)

2. **benji-site preserved (PORT-02):**
   - benji-site link still points to projects/benji-site/index.html
   - benji-site folder remains in main repository
   - No migration of benji-site files

3. **archive folder preserved (PORT-03):**
   - archive folder exists in main repository
   - archive folder remains accessible
   - No migration or deletion of archive content

4. **All links tested and working (PORT-04):**
   - Manual verification completed via checkpoint
   - All 21 links load correct projects
   - No 404 errors on working deployments

5. **Portfolio functionality preserved:**
   - All original projects still accessible
   - No broken navigation
   - Distributed architecture transparent to users
</verification>

<success_criteria>
- index.html contains exactly 20 GitHub Pages URLs (one for each migrated project/version/piece)
- benji-site link remains relative (href="projects/benji-site/index.html")
- archive folder verified to exist via test -d command
- All 21 links manually tested and confirmed working
- Git commit shows feat(04-01) with portfolio integration changes
- Requirements PORT-01, PORT-02, PORT-03, PORT-04 satisfied
- Phase 4 complete: Portfolio hub successfully connects to distributed project architecture
</success_criteria>

<output>
After completion, create `.planning/phases/04-portfolio-integration/04-01-SUMMARY.md` documenting:
- Which links were updated and their mappings
- Manual testing results (all 21 links verified)
- Archive folder preservation verification
- Any issues encountered during testing
- Confirmation of requirements satisfied
</output>
