/* Boardgame Design Lab styles */
:root{
  --bg:#0e0f12; /* dark workspace bg */
  --panel:#1a1c21;
  --panel-2:#20232a;
  --text:#e7eaf0;
  --muted:#9aa3b2;
  --accent:#7bd8ff;
  --border:#2b2f37;
  --shadow:0 2px 8px rgba(0,0,0,.35), 0 8px 24px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
}

.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 12px; background:var(--panel); border-bottom:1px solid var(--border);
}
.app-header h1{font-size:16px; margin:0; letter-spacing:.08em}
.header-actions{display:flex; gap:8px}

.app-main{display:grid; grid-template-columns:300px 1fr; height:calc(100% - 50px)}
.sidebar{
  background:var(--panel); border-right:1px solid var(--border);
  padding:10px; overflow:auto;
}
.tool-section{border:1px solid var(--border); background:var(--panel-2); border-radius:8px; padding:10px; margin-bottom:10px}
.tool-section h2{margin:0 0 8px 0; font-size:13px; color:var(--accent); letter-spacing:.06em}
.field-row{display:flex; flex-direction:column; gap:6px; margin:8px 0}
.field-grid{display:grid; grid-template-columns:1fr auto 1fr auto; gap:6px; align-items:center}
.toggle-group{display:flex; gap:6px}
.btn{background:#2c313b; color:var(--text); border:1px solid var(--border); padding:6px 10px; border-radius:6px; cursor:pointer}
.btn:hover{background:#343a46}
.btn-small{padding:4px 8px; font-size:12px}
.btn.toggle.active{outline:2px solid var(--accent)}
input, select{background:#121317; border:1px solid var(--border); color:var(--text); padding:6px 8px; border-radius:6px}
.hint{color:var(--muted); font-size:12px}
.status.muted{color:var(--muted)}

.board-pane{position:relative}
.canvas-scroller{position:absolute; inset:0; overflow:auto; background:repeating-conic-gradient(from 45deg, #141821 0 25%, #0f131b 0 50%) 0/24px 24px}
.work-canvas{position:relative; width:3000px; height:2000px}
.play-area{position:absolute; top:100px; left:100px; width:1600px; height:960px; background:#fff; border:2px solid #000; box-shadow:var(--shadow)}
.play-area::after{content:""; position:absolute; inset:0; border:2px solid rgba(0,0,0,.1); pointer-events:none}
.play-area .grid{
  position:absolute; inset:0; pointer-events:none; opacity:0.6;
  background-image: linear-gradient(to right, rgba(0,0,0,.08) 1px, transparent 1px),
                    linear-gradient(to bottom, rgba(0,0,0,.08) 1px, transparent 1px);
  background-size: 40px 40px; /* overridden via JS */
}

.board-box{position:absolute; background:#0f0f10; border:2px solid #333; border-radius:6px; box-shadow:var(--shadow)}
.resizable{position:absolute}
.resize-handle{position:absolute; width:12px; height:12px; background:#7bd8ff; border:2px solid #004458; border-radius:3px; box-shadow:0 2px 4px rgba(0,0,0,.3);}
.resize-handle.br{right:-8px; bottom:-8px; cursor:nwse-resize}
.resize-handle.tr{right:-8px; top:-8px; cursor:nesw-resize}
.resize-handle.bl{left:-8px; bottom:-8px; cursor:nesw-resize}
.resize-handle.tl{left:-8px; top:-8px; cursor:nwse-resize}
.board-label, .token-label, .card-label{position:absolute; inset:auto 4px 4px 4px; color:#ddd; font-size:12px; text-align:center; pointer-events:auto}
.board-label[contenteditable], .token-label[contenteditable], .card-label[contenteditable]{outline:1px dashed #666; background:rgba(255,255,255,.03)}

.item{position:absolute; user-select:none; touch-action:none}
.card, .stack{
  background:#fff; border:2px solid #000; border-radius:8px; width:175px; height:245px; /* poker default 2.5x3.5 at 70px/in */
  box-shadow:0 1px 0 rgba(0,0,0,.4), 0 2px 0 rgba(0,0,0,.35), 0 4px 8px rgba(0,0,0,.35);
}
.card.landscape, .stack.landscape{transform:rotate(90deg)}
.card .card-face, .stack .stack-face{position:absolute; inset:0; border-radius:6px}
.card .card-face{background:linear-gradient(#fff, #f8f8f8)}
.stack .stack-face{background:linear-gradient(#f9f9f9, #ededed)}
.stack::before, .stack::after{content:""; position:absolute; inset:2px; border-radius:6px; border:1px solid rgba(0,0,0,.08)}
.stack::before{transform:translate(3px, 3px)}
.stack::after{transform:translate(6px, 6px)}
.stack-count{position:absolute; top:-10px; right:-10px; background:#111; color:#fff; font-weight:700; border-radius:999px; padding:2px 6px; font-size:12px; border:1px solid #333; box-shadow:var(--shadow)}

.draggable{cursor:grab}
.dragging{cursor:grabbing; opacity:.95}
.snapped{outline:1px dashed rgba(0,0,0,.25)}

.token{display:flex; align-items:center; justify-content:center; color:#111; font-weight:700; text-shadow:0 1px 0 rgba(255,255,255,.3)}
.token.round{border-radius:999px}
.token.square{border-radius:8px}
.token.hex{clip-path:polygon(25% 6.7%, 75% 6.7%, 100% 50%, 75% 93.3%, 25% 93.3%, 0 50%)}

.stack-menu{position:absolute; background:#1e222b; border:1px solid #2e3440; border-radius:8px; padding:6px; display:flex; gap:6px; box-shadow:var(--shadow); z-index:1000}
.stack-menu button{background:#2b3040; color:#e7eaf0; border:1px solid #374057; padding:6px 8px; border-radius:6px; cursor:pointer}
.stack-menu button:hover{background:#343b50}
.stack-menu button.danger{background:#4a2530; border-color:#6b2b39}

.die{position:absolute; width:40px; height:40px; background:#f0f3ff; border:2px solid #1b1e28; border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:800; color:#1b1e28; box-shadow:var(--shadow)}
.die.rolling{animation: wiggle .4s ease-in-out infinite alternate}
@keyframes wiggle{from{transform:rotate(-6deg)} to{transform:rotate(6deg)}}

.csv-table-wrap{max-height:240px; overflow:auto; border:1px solid var(--border); border-radius:6px}
.csv-table{width:100%; border-collapse:collapse}
.csv-table th,.csv-table td{border-bottom:1px solid var(--border); padding:4px 6px; font-size:12px}
.csv-table tr.selected{background:#233;}
.dice-results{margin-top:8px; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px; color:#cfe7ff}

/* helpers */
.hidden{display:none!important}
