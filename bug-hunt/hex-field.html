<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bug Hunt — Infinite Hex Field (Print)</title>
  <style>
    /* Letter page, no margins for maximal coverage (your printer may still enforce a small non-printable margin) */
    @page { size: Letter; margin: 0; }
    html, body { margin: 0; padding: 0; background: #eee; }
    body { font-family: system-ui, Segoe UI, Arial, sans-serif; color: #111; }
    header { padding: 10px 14px; background: #11161c; color: #e6edf3; border-bottom: 1px solid #1f2a34; }
    header small { color: #9aa7b2; }
    main { padding: 12px; }
    .page { background: #fff; box-shadow: 0 1px 3px rgba(0,0,0,0.15); }
    svg { display: block; margin: 0 auto; background: #fff; }
    .hint { text-align: center; color: #6b7280; font-size: 12px; margin-top: 8px; }
    @media print { header, main { padding: 0; } .page { box-shadow: none; } .hint { display: none; } }
  </style>
  <script>
    // Page size in mm (US Letter)
    const PAGE_W = 215.9; // mm
    const PAGE_H = 279.4; // mm
    // Game scale: quarter-sized hexes
    const R = 14;                            // mm, circumradius (center to corner)
    const W = Math.sqrt(3) * R;              // mm, across flats (~24.25mm)
    const H = 2 * R;                         // mm, corner to corner (28mm)
    const STEP_X = W;                         // horizontal spacing for pointy-top hexes
    const STEP_Y = 0.75 * H;                  // vertical spacing (pointy-top stagger)

    function hexPoints(cx, cy, r) {
      const pts = [];
      for (let i=0; i<6; i++) {
        const a = (60 * i - 30) * Math.PI/180; // pointy-top
        pts.push([cx + r*Math.cos(a), cy + r*Math.sin(a)]);
      }
      return pts.map(p=>p.join(',')).join(' ');
    }

    function drawGrid(svg) {
      const ns = 'http://www.w3.org/2000/svg';
      svg.setAttribute('viewBox', `0 0 ${PAGE_W} ${PAGE_H}`);
      svg.setAttribute('width', PAGE_W + 'mm');
      svg.setAttribute('height', PAGE_H + 'mm');
      const g = document.createElementNS(ns, 'g');
      svg.appendChild(g);

      // Expand slightly beyond the page to avoid visible gutters at edges
      const bleed = 2; // mm
      for (let r = -3; ; r++) {
        const cy = r * STEP_Y + H/2;
        if (cy - R > PAGE_H + bleed) break;
        for (let q = -3; ; q++) {
          const cx = q * STEP_X + W/2 + (r % 2 ? STEP_X/2 : 0);
          if (cx - W/2 > PAGE_W + bleed) break;
          if (cx + W/2 < -bleed) continue;
          const poly = document.createElementNS(ns, 'polygon');
          poly.setAttribute('points', hexPoints(cx, cy, R - 0.5)); // slight inset so strokes don’t clip
          poly.setAttribute('fill', 'none');
          poly.setAttribute('stroke', '#000');
          poly.setAttribute('stroke-width', '0.35'); // mm
          g.appendChild(poly);
        }
      }
    }

    window.addEventListener('load', () => {
      const svg = document.getElementById('hexfield');
      drawGrid(svg);
    });
  </script>
</head>
<body>
  <header>
    <div>Bug Hunt — Infinite Hex Field</div>
    <small>Hex across flats ≈ 24.25 mm (R = 14 mm). Print at 100% scale. For seamless tiling, align pages edge to edge.</small>
  </header>
  <main>
    <div class="page">
      <svg id="hexfield" role="img" aria-label="Infinite hex grid for printing"></svg>
    </div>
    <div class="hint">Tip: In the print dialog, set Scale to 100% (no fit-to-page). Some printers add non-printable margins.</div>
  </main>
</body>
</html>
