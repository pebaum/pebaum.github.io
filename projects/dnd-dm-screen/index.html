<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D&D 5E DM SCREEN</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>D&D 5E DM SCREEN</h1>
            <p class="subtitle">DUNGEON MASTER REFERENCE & TOOLS</p>
        </header>

        <!-- Global Search Bar -->
        <div class="search-section">
            <div class="search-container">
                <input type="text" id="globalSearch" placeholder="SEARCH MONSTERS, SPELLS, CONDITIONS... (PRESS / TO FOCUS)" autocomplete="off">
                <div class="search-hint">TIP: TYPE TO SEARCH ACROSS ALL DATA</div>
            </div>
            <div id="searchResults" class="search-results hidden"></div>
        </div>

        <!-- Main Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Initiative Tracker -->
            <section class="panel initiative-panel">
                <div class="panel-header">
                    <h2>INITIATIVE TRACKER</h2>
                    <button class="btn-small" id="clearEncounter">CLEAR</button>
                </div>
                <div class="panel-content">
                    <div class="initiative-controls">
                        <input type="text" id="combatantName" placeholder="NAME" autocomplete="off">
                        <input type="number" id="combatantInit" placeholder="INIT" min="1" max="30">
                        <input type="number" id="combatantHP" placeholder="HP" min="1">
                        <button class="btn" id="addCombatant">ADD</button>
                    </div>
                    <div id="initiativeList" class="initiative-list">
                        <div class="empty-state">NO COMBATANTS YET</div>
                    </div>
                    <div class="turn-controls">
                        <button class="btn" id="prevTurn">← PREV</button>
                        <button class="btn" id="nextTurn">NEXT →</button>
                    </div>
                </div>
            </section>

            <!-- Dice Roller -->
            <section class="panel dice-panel">
                <div class="panel-header">
                    <h2>DICE ROLLER</h2>
                </div>
                <div class="panel-content">
                    <div class="dice-buttons">
                        <button class="die-btn" data-die="d4">D4</button>
                        <button class="die-btn" data-die="d6">D6</button>
                        <button class="die-btn" data-die="d8">D8</button>
                        <button class="die-btn" data-die="d10">D10</button>
                        <button class="die-btn" data-die="d12">D12</button>
                        <button class="die-btn" data-die="d20">D20</button>
                        <button class="die-btn" data-die="d100">D100</button>
                    </div>
                    <div class="custom-roll">
                        <input type="text" id="customRoll" placeholder="e.g., 2d6+3" autocomplete="off">
                        <button class="btn" id="rollCustom">ROLL</button>
                    </div>
                    <div class="advantage-controls">
                        <button class="btn-small" id="rollAdvantage">ADV</button>
                        <button class="btn-small" id="rollDisadvantage">DIS</button>
                    </div>
                    <div id="rollHistory" class="roll-history">
                        <div class="history-item">ROLL HISTORY APPEARS HERE</div>
                    </div>
                </div>
            </section>

            <!-- DC & Quick Reference -->
            <section class="panel reference-panel">
                <div class="panel-header">
                    <h2>DC TABLE & REFERENCE</h2>
                </div>
                <div class="panel-content">
                    <div id="dcTable" class="dc-table"></div>
                    <div class="quick-rules" id="quickRules"></div>
                </div>
            </section>

            <!-- Notepad -->
            <section class="panel notepad-panel">
                <div class="panel-header">
                    <h2>NOTES</h2>
                    <button class="btn-small" id="clearNotes">CLEAR</button>
                </div>
                <div class="panel-content">
                    <textarea id="notepad" placeholder="SESSION NOTES..."></textarea>
                </div>
            </section>

            <!-- Conditions Reference -->
            <section class="panel conditions-panel">
                <div class="panel-header">
                    <h2>CONDITIONS</h2>
                </div>
                <div class="panel-content">
                    <div id="conditionsList" class="conditions-list"></div>
                </div>
            </section>

            <!-- Session Maker -->
            <section class="panel session-maker-panel">
                <div class="panel-header">
                    <h2>SESSION MAKER</h2>
                    <button class="btn-small" id="generateSession">GENERATE</button>
                </div>
                <div class="panel-content">
                    <div class="party-input">
                        <label class="input-label">PARTY LEVELS (COMMA SEPARATED)</label>
                        <input type="text" id="partyLevels" placeholder="e.g., 3,4,3,5" autocomplete="off">
                    </div>
                    <div id="sessionOutput" class="session-output">
                        <div class="empty-state">ENTER PARTY LEVELS AND CLICK GENERATE</div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Detail Modal -->
        <div id="detailModal" class="modal hidden">
            <div class="modal-content">
                <button class="modal-close" id="closeModal">×</button>
                <div id="modalBody"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/data-loader.js"></script>
    <script type="module" src="js/search-engine.js"></script>
    <script type="module" src="js/initiative-tracker.js"></script>
    <script type="module" src="js/dice-roller.js"></script>
    <script type="module" src="js/notepad.js"></script>
    <script type="module" src="js/reference-viewer.js"></script>
    <script type="module" src="js/session-maker.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>
